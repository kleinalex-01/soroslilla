// ==========================================================================
// Grid
// ==========================================================================
// Grid layout system

@use 'sass:math';
@use '../abstracts' as *;

.row {
  display: flex;
  flex-wrap: wrap;
  margin-left: -$spacing-4;
  margin-right: -$spacing-4;
}

.col {
  flex: 1 0 0%;
  padding-left: $spacing-4;
  padding-right: $spacing-4;
}

// Generate column classes
@for $i from 1 through 12 {
  .col-#{$i} {
    flex: 0 0 auto;
    width: math.percentage(math.div($i, 12));
    padding-left: $spacing-4;
    padding-right: $spacing-4;
  }
}

// Responsive columns
@each $breakpoint, $value in $breakpoints {
  @if $breakpoint != 'xs' {
    @include respond-to($breakpoint) {
      @for $i from 1 through 12 {
        .col-#{$breakpoint}-#{$i} {
          flex: 0 0 auto;
          width: math.percentage(math.div($i, 12));
        }
      }
    }
  }
}

// CSS Grid utilities
.grid {
  display: grid;
  gap: $spacing-4;

  &--2 {
    grid-template-columns: repeat(2, 1fr);
  }

  &--3 {
    grid-template-columns: repeat(3, 1fr);
  }

  &--4 {
    grid-template-columns: repeat(4, 1fr);
  }

  // Responsive grid
  &--auto {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }
}
